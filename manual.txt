https://losst.ru/kak-polzovatsya-youtube-dl

Как пользоваться youtube-dl

У вас хотя бы раз в жизни возникало желание сохранить на компьютере понравившееся видео или аудио из интернета? Но как на зло на сайте не было заветной кнопки Скачать? Именно для таких случаев и предназначена бесплатная кроссплатформенная утилита youtube-dl: она позволяет загружать звуковые и видеофайлы, зная лишь адрес страницы, где расположен файл.

====================
Установка youtube-dl
====================

В ОС Ubuntu установка youtube-dl возможна несколькими способами, в том числе и через Менеджер приложений. Однако чтобы получить самую свежую версию утилиты, следует пользоваться не репозиториями конкретного дистрибутива, а системой управления пакетами pip.

Если pip уже установлен в вашей системе, выполните в терминале следующую команду: sudo -H pip install --upgrade youtube-dl

В противном случае, перед тем как установить youtube-dl, установите pip: sudo apt install python-pip

Разработчики часто выпускают обновления, поэтому со временем некоторые функции утилиты перестают работать. Если вы попытаетесь скачать видео спустя неделю или месяц после установки youtube-dl, то вероятно увидите ошибку.

Если такое произошло, установите обновлённую версию утилиты: sudo pip install -U youtube-dl

 >
   To install it right away for all UNIX users (Linux, OS X, etc.), type:

       sudo curl -L https://yt-dl.org/downloads/latest/youtube-dl -o /usr/local/bin/youtube-dl

       sudo chmod a+rx /usr/local/bin/youtube-dl
 >

=================
Синтаксис и опции
=================

Для успешного использования утилиты необходимо правильно записывать команды в терминале. Синтаксис утилиты прост:

$ youtube-dl опции URL-адрес

Основные опции:


  ■ -U, --update — установка обновлений;
  ■ --dump-user-agent — просмотр идентификационных данных, отсылаемых утилитой на веб-сервер;
  ■ --abort-on-error — отменить загрузку следующих видео из списка (плейлиста) в случае какой-либо ошибки;
  ■ --list-extractors — просмотреть список сайтов, с которых можно скачивать файлы;
  ■ --extractor-descriptions — список сайтов с примечаниями;
  ■ --playlist-start n — начать загрузку плейлиста с файла под номером n;
  ■ --max-downloads — остановить работу утилиты после загрузки n-ного количества файлов;
  ■ -i, --ignore-errors — продолжить скачивание, если работа утилиты «застопорилась» из-за ошибки (например, очередное видео из плейлиста оказалось недоступным);
  ■ --proxy URL — использование прокси-серверов (HTTP/HTTPS/SOCKS);
  ■ --geo-verification-proxy URL — использование прокси для создания фейковой геолокации (требуется, если перечень стран, где видео доступно для просмотра, ограничен);
  ■ --mark-watched — отметить видео просмотренными (также существует опция с противоположным действием --no-mark-watched; обе опции действительны только для youtube);
  ■ --min-filesize SIZE, --max-filesize SIZE — не загружать видео, если его размер меньше или больше заданного;
  ■ --date DATE — загружать только видео, которые были выложены на сервер в заданную дату (также существуют опции --datebefore DATE для загрузки видео, которые были выложены до указанной даты, и --dateafter DATE для загрузки видео, которые были выложены после указанной даты);
  ■ --no-playlist — загружать только видео, если по указанному адресу расположены и видео, и плейлист (также есть опция --only-playlist, которая при аналогичных обстоятельствах позволяет загрузить только плейлист);
  ■ --include-ads — скачивать видео вместе с рекламой;
  ■ -r, --limit-rate — ограничение скорости скачивания;
  ■ --buffer-size — установка размера фрагментов, записываемых в буфер;
  ■ --playlist-reverse — начать загрузку видео с конца плейлиста;
  ■ --playlist-random — загружать видео из плейлиста в случайном порядке;
  ■ --id — использовать в качестве названия видео его id-номер;
  ■ -w, --no-overwrites — не перезаписывать файлы;
  ■ -c, --continue — --no-continue;
  ■ --write-description — сохранить описание видео в файл .description;
  ■ --no-warnings — игнорировать предупреждения;
  ■ --no-check-certificate — не проверять, действителен ли сертификат безопасности для указанного сайта;
  ■ -F, --list-formats — показать все доступные форматы файлов для указанного видео или плейлиста;
  ■ --write-sub — сохранять файл с субтитрами.

С полным перечнем опций можно ознакомиться, выполнив в терминале одну из следующих команд: man youtube-dl  (youtube-dl -h)

===========================
Как пользоваться Youtube-dl
===========================

1. Загрузка видео или плейлиста

Чтобы загрузить видео, достаточно выполнить в терминале такую команду: youtube-dl URL-adress

Обратите внимание — утилита работает не со всеми сайтами. Узнать список доступных интернет-ресурсов можно, воспользовавшись командой: youtube-dl --list-extractors

Предварительно настройте в терминале бесконечный буфер прокрутки, иначе увидите лишь часть списка.

Утилита youtube-dl сохраняет видео на диск, присваивая ему название, которое указано на интернет-странице. Опция -o позволяет назвать файл так, как удобно вам:

youtube-dl -o 'еще одно видео с ютуба которое через 5 минут отправится в корзину' https://www.youtube.com/watch?v=dkmjCAjAQug

По умолчанию все файлы, загруженные с помощью youtube-dl, попадают в корневую папку. Сохранить видео в любой другой папке можно, прописав путь к нему с использованием всё той же опции -o:

youtube-dl -o '~/Downloads/еще одно видео с ютуба которое через 5 минут отправится в корзину' https://www.youtube.com/watch?v=dkmjCAjAQug

Не забывайте заключать текст в одинарные кавычки, иначе он будет неверно воспринят утилитой, и она вернёт сообщение об ошибке.

2. Загрузка нескольких видео

Для загрузки нескольких разрозненных видео достаточно прописать их адреса, разделяя пробелом: youtube-dl URL-adress-1  URL-adress-2  URL-adress-3

Либо скопировать адреса в текстовый файл и сохранить его в корневой папке. В этом случае команда выглядит так: youtube-dl -a filename.txt

3. Загрузка только аудио

Существуют опции команды youtube-dl, позволяющие скачать не весь видеофайл, а только звуковую дорожку из него. Используйте -x, если вам нужна музыка или голосовая запись без изображения:

youtube-dl -x URL-adress

4. Просмотр доступных форматов аудио и видео

Порой, перед загрузкой видео возникает необходимость узнать, в каких форматах оно доступно. Эту информацию легко получить, воспользовавшись опцией --list-formats. Применяйте её как для отдельных видео, так и для плейлистов:

youtube-dl --list-formats URL-adress

5. Загрузка видео определённого формата и качества

По умолчанию утилита youtube-dl загружает видео и аудио в наилучшем качестве изо всех доступных вариантов. Однако при загрузке видео и музыки из YouTube у вас есть возможность выбрать, какое качество звука и изображения вы хотите получить:

  ■ best – наилучшее качество видео и аудио;
  ■ worst – наихудшее качество видео и аудио;
  ■ bestvideo – наилучшее качество видео;
  ■ worstvideo – наихудшее качество видео;
  ■ bestaudio – наилучшее качество аудио;
  ■ worstaudio – наихудшее качество аудио.

Пропишите желаемый вариант в тексте команды после опции -f. Например, для наилучшего качества видео и аудио одновременно, запись будет выглядеть так:

youtube-dl -f best URL-adress

Выводы

Утилита youtube-dl пригодится всем, кто хочет скачивать музыку и видео с сайтов, где такая функция не предусмотрена. У неё множество гибких настроек и всего лишь один минус — отсутствие полноценной графической оболочки. В менеджере приложений Ubuntu можно найти Gydl — оболочку youtube-dl с очень обрезанным набором возможностей, в целом её работоспособность оставляет желать лучшего.